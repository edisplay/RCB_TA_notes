# Have you read the Instructor Guide?

You should before you teach anyone anything.

Have a question? It's probably in the Instructor Guide.

look at this file at the root of the repository: 
[Instructor Guide](https://github.com/RutgersCodingBootcamp/All-Lesson-Plans/blob/master/instructor_guide)

# Master Objectives (Internal Use - do not share with students - because it's a waste of time)
* Expertly navigate the file system and terminal basics
* Work independently or in a group on complex projects throughout the entire development lifecycle
* Implement complex logical conditions to meet an objective.
* Write SQL commands to perform Create, Read, Update and Delete commands
* Write clean code with proper variable names, indentation according to industry best practices

# Objectives

* *slack out the objectives to the students, and call on random students to read each of them outloud.* 

* *Make a BRIEF comment about each objective after a person reads it.*

  * Students will create an App using Node.js server to connect MySQL database and send data to the page using Express.
  * Students will see why it's difficult to server a web page generated by only using Javascript.
  * Students will practice using handlebar to server pages.

# Theme: 
Node Express Handlebars

# INSTRUCTOR MUST COVER 3 - 12 !!!

```
Or they won't be able to do the homework.
```

PART ONE:
---------

### 1. Student do (20 minutes) 

* *Slack this out and commit this in your in class repo*

* Calculator App exercise:
  - Create an node.js application.
  - Install the Express npm package.
  - Using Express create a server, with one GET route.
  - The route will consist of three parameters, an operation, a number, a second number.
  - Create these four math operations `addition`, `subtraction`, `multiplication`, `division`.
  - When the route is hit, it should display on the page result of the math operation.
  
Example: If my port is 3000, entering the following URL into my browser.

```
http://localhost:3000/addition/10/1
```

The page will display `11`.

BONUS:

* Create a math operation called `fibonacci`.
  * Create the code that will generate the fibonacci numbers.
  * The fibonacci will start with two numbers `[0,1]`
  * The first parameter will check if it's `fibonacci` 
  * The second parameters in the URL will determine how many of the fibonacci numbers you will generate.
  * So if the second parameters is 5 you will generate 5 additional number after the first 2 numbers, displaying 7 numbers total.
  * The third parameters will now change the value of the second number when you generate the fibonacci number.

Example:

```
http://localhost:3000/fibonacci/2/1
```
The page will display: 0,1,1,2

```
http://localhost:3000/fibonacci/10/5
```
The page will display: `0,5,5,10,15,25,40,65,105,170,275,445`

### 2. Everyone do (15 minutes)

* *Go over the previous exercise with the class - call on one unique student per each part of the previous exercise to explain what they did for each part of the exercise*

### 3. Instructor do (15 minutes)
Create a simple Node App to connect to MySQL & Express, that will send data to the page.

* Create app dir named "magical_schools"
* Create package.json with `npm init`
* Create `index.js` file
* Install npm package Express `npm install express --save`
* Setup Express in `index.js` file

```
var express = require('express');
var app = express();

var port = 3000;
app.listen(port);
```

* Create a database in MySQL named "wizard_schools_db"
* Create a table named "schools" with the following schema.
* Insert the following data into the table.

```
CREATE DATABASE wizard_schools_db;
USE wizard_schools_db;

CREATE TABLE schools (
id int AUTO_INCREMENT,
name varchar(30) NOT NULL,
PRIMARY KEY(id)
); 

INSERT INTO schools (name) VALUES ("Hogwarts School of Witchcraft");
INSERT INTO schools (name) VALUES ("Castelobruxo");
INSERT INTO schools (name) VALUES ("Durmstrang Institute");
INSERT INTO schools (name) VALUES ("Beauxbatons Academy of Magic");

```

* Install npm package mysql `npm install mysql --save`
* Setup connection to MySQL database in `index.js`

```
var mysql = require('mysql');
var connection = mysql.createConnection({
    port: 8000,
    host: 'localhost',
    user: 'root',
    password: '1111',
    database: 'wizard_schools_db'
});

connection.connect(function(err) {
    if (err) {
        console.error('error connecting: ' + err.stack);
        return;
    }
    console.log('connected as id ' + connection.threadId);
});
```

* Setup the Express route with a query from the MySQL database;

```
app.get('/', function(req, res) {
  connection.query('SELECT * FROM schools', function(err, result) {
      res.send(result);
  });
});
```

### 4. Everyone do (15 minute) 
* *Slack this out and commit this in your in class repo*

Exercise: 
* Given the following data below, create a MySQL databse with a table populating with the given data.


  |id| name  | coolness_points  | attitude |
  |--|-------| ---------- |------|
  |1 |"Jerry"|75|"Relaxed"|
  |2 |"Elaine"|65|"Righteous"|
  |3 |"Kramer"|5|"Doofus"|
  |4 |"George"|25|"Selfish"|


* Create a Node App with Express and MySQL npm.
* Create 3 Express routes:
  * Create a '/cast' route that will display all the names from the table order by `id`
  * Create a '/coolness-chart' route that will display all cast members and their coolness_points in the order from top to bottom
  * Create a '/attitude-chart/:type' route that will display the name from the table if the param matches attitude to on any row in the table 

### 5. Instructor do (10 minutes) 

* *Go over the previous exercise with the class - call on one unique student per each part of the previous exercise to explain what they did for each part of the exercise*

### 6. Instructor do (15 minutes) 
* *Instructor shows why it's a bad idea to generate HTML using JavaScript only.*

* *Using the previous exercise the magical_schools send HTML when the route is hit, send html to the browser.*
Show how primitive this way of generating HTML.

```
app.get('/', function(req, res) {
  connection.query('SELECT * FROM schools', function(err, result) {

  var html = '<h1> These are the schools~!!! </h1>';

    for (var s = 0; s < result.length; s++) {
      html += '<div style="background-color:blue; color:red; margin-left:30px;">';
        html += '<ul>'
        html += '<li> ' + result[s].id + ' </li>';
        html += '<li> ' + result[s].name + ' </li>';
        html += '</ul>'
        html += '<br />';
        html += '</div>';
    };

      res.send(html);
  });
});
```

### 7. Partners do (10 minutes)

> Explain why the above code is bad to the people around you. I'll call on random people. If you're wrong, i'm going to call out the people next to you for not explaining it to you well.


-- 15 minute break -- (total including break: 110 minutes)

PART TWO:
---------

### 8. Instructor do: (15 minutes) 
* *Instructor demos how to use handlebars. Look in lesson-14.1.exercise_solutions folder.*

Create a simple Node App with Express with handlebars that will generate and render HTML.

* Create app dir named "instructor lunches"
* Create package.json with `npm init`
* Create `index.js` file
* Install npm package Express `npm install express --save`
* Setup Express in `index.js` file
* Install npm package Express `npm install handlebars --save`
* Install npm package `npm install express-handlebars --save` 

Setup the App:

* Setup the config for `index.js` for all npm packages
* Inside "ben_and_jerry" Dir create the 'views' Dir
* Inside the 'views' Dir create the 'index.handlebars' file 
* Inside the 'views' Dir create the 'layouts' Dir
* Inside the 'layouts' Dir create the 'main.handlebars' file
* Setup the 'main.handlebars' file to take in handlebars data
* Setup the 'index.handlebars' file to have the template to be able to render onto

### 9. Partners do: (5 minutes) 

> Explain how handlebars works to the people around you. I'll call on random people. If you're wrong, i'm going to call out the people next to you for not explaining it to you well.

### 10 Everyone do: (5 minutes)
Call on random students to go over it.

### 11. Everyone do (20 minutes) 
Students exercise:

Create you own Ben and Jerry App:
  * Create 5 different kinds of icecream, each with a different price and scale of awesomeness. Put the following variable in your 'index.js'
  ```
  var icecreams = [
    {name: 'vanilla', price: 10, awesomeness: 3},
    {name: 'chocolate', price: 4, awesomeness: 8},
    {name: 'banana', price: 1, awesomeness: 1},
    {name: 'greentea', price: 5, awesomeness: 7},
    {name: 'jawbreakers', price: 6, awesomeness: 2},
  ];
  ```
  * Do not use MySQL keep all the data in the `index.js` file
  * Using handlebars and Express create a route for each of the ice cream you created
  * When the icecreams route is hit, it will render the name, price, and awesomeness of that ice cream.

### 12. Everyone do (10 minutes) 
* *Go over the previous exercise with the class - call on one unique student per each part of the previous exercise to explain what they did for each part of the exercise*


### 13. Student do: ( 5 minutes )
* * Go over the instructions for the homework assignment*

# Copyright
Coding Boot Camp (C) 2016. All Rights Reserved.